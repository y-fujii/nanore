= nanore

image:https://travis-ci.org/y-fujii/nanore.svg?branch=master["Build Status", link="https://travis-ci.org/y-fujii/nanore"]

nanore is a tiny (SLOC < 0.2K), O(MN) regular expression matcher for arbitrary
data types written in Rust.

== Example

----
use nanore::*;

let mut re = RegExRoot::<_, ()>::new(
    atom(|e| *e % 2 != 0) * atom(|e| *e % 2 == 0) + rep(atom(|e| *e > 0))
);

assert!(re.is_match());
re.feed(&1);
assert!(re.is_match());
re.feed(&2);
assert!(re.is_match());
re.feed(&3);
assert!(re.is_match());
re.feed(&0);
assert!(!re.is_match());
----

=== Mark & path

----
let mut re = RegExRoot::new(
        rep(mark(0) * val('a') + mark(1) * val('b'))
);
re.feed( &'a' );
re.feed( &'b' );
re.feed( &'a' );
re.feed( &'b' );
assert!(re.path() == [(0, 0), (1, 1), (2, 0), (3, 1)]);
----

=== Weight

----
let mut re = RegExRoot::new(
        rep(mark(0) * val('a')) * rep(weight(-1) * mark(1) * val('a'))
);
re.feed( &'a' );
re.feed( &'a' );
re.feed( &'a' );
re.feed( &'a' );
assert!(re.path() == [(0, 1), (1, 1), (2, 1), (3, 1)]);
----
